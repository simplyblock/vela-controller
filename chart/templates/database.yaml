apiVersion: stackgres.io/v1
kind: SGInstanceProfile
metadata:
  name: profile
spec:
  cpu: "1"
  memory: "1Gi"

---
apiVersion: stackgres.io/v1
kind: SGCluster
metadata:
  name: database
  labels:
    app.kubernetes.io/name: vela-db
    app.kubernetes.io/instance: vela
  annotations:
    # Protects DB from being deleted on helm uninstall
    "helm.sh/resource-policy": keep
spec:
  instances: 1
  postgres:
    version: {{ .Values.postgresVersion }}
  pods:
    persistentVolume:
      size: '20Gi'
  sgInstanceProfile: 'profile'
